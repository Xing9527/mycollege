{"version":3,"sources":["webpack:///src/view/admin/say_add.vue","webpack:///./src/view/admin/say_add.vue?4686","webpack:///./src/view/admin/say_add.vue"],"names":["say_add","Editor","val","_this","this","data","key","url","_this2","_this3","id","_this4","getToken","getOneData","admin_say_add","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","formData","label-width","label","value","callback","$$v","$set","expression","_v","on","getTxt","action","list-type","on-success","success","token","$route","name","click","upload","_e","update","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2GAkCAA,uCAKA,QACA,WACA,cACA,gBAEA,MAEA,UAEA,iBAIAC,iBAAA,wDAGAC,uBAEA,IAAAC,EAAAC,yDAEAC,mEAKAC,4BACAC,sBAEA,IAAAC,EAAAJ,0FAIA,iBAEA,iDAEA,oBACA,uBAEA,gCAIA,IAAAK,EAAAL,wCACAM,2FAIA,iBAEA,iDAEA,oBACA,uBAEA,oCAIA,IAAAC,EAAAP,8GAGA,+BAKAQ,2CAEAC,gFAOA,QACA,WACA,cACA,gBAGA,QCtHAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAZ,KAAaa,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,QAAkBF,EAAA,WAAgBG,IAAA,OAAAC,OAAkBC,MAAAR,EAAAS,SAAAC,cAAA,UAA2CP,EAAA,gBAAqBI,OAAOI,MAAA,OAAaR,EAAA,YAAiBK,OAAOI,MAAAZ,EAAAS,SAAA,KAAAI,SAAA,SAAAC,GAAmDd,EAAAe,KAAAf,EAAAS,SAAA,OAAAK,IAAoCE,WAAA,oBAA6B,GAAAhB,EAAAiB,GAAA,KAAAd,EAAA,gBAAqCI,OAAOI,MAAA,OAAaR,EAAA,YAAiBK,OAAOI,MAAAZ,EAAAS,SAAA,GAAAI,SAAA,SAAAC,GAAiDd,EAAAe,KAAAf,EAAAS,SAAA,KAAAK,IAAkCE,WAAA,kBAA2B,GAAAhB,EAAAiB,GAAA,KAAAd,EAAA,gBAAqCI,OAAOI,MAAA,QAAcR,EAAA,UAAee,IAAIC,OAAAnB,EAAAmB,QAAoBX,OAAQI,MAAAZ,EAAAS,SAAA,QAAAI,SAAA,SAAAC,GAAsDd,EAAAe,KAAAf,EAAAS,SAAA,UAAAK,IAAuCE,WAAA,uBAAgC,GAAAhB,EAAAiB,GAAA,KAAAd,EAAA,gBAAqCI,OAAOI,MAAA,YAAkBR,EAAA,aAAkBI,OAAOa,OAAA,+BAAAC,YAAA,eAAAC,aAAAtB,EAAAuB,QAAAlC,MAAoGmC,MAAAxB,EAAAwB,UAAkBrB,EAAA,KAAUE,YAAA,oBAA2B,GAAAL,EAAAiB,GAAA,KAAAd,EAAA,gBAAuCI,OAAOI,MAAA,UAAgBR,EAAA,YAAiBK,OAAOI,MAAAZ,EAAAS,SAAA,KAAAI,SAAA,SAAAC,GAAmDd,EAAAe,KAAAf,EAAAS,SAAA,OAAAK,IAAoCE,WAAA,oBAA6B,GAAAhB,EAAAiB,GAAA,KAAAd,EAAA,yBAAAH,EAAAyB,OAAAC,KAAAvB,EAAA,aAAkFe,IAAIS,MAAA3B,EAAA4B,UAAoB5B,EAAAiB,GAAA,QAAAjB,EAAA6B,KAAA7B,EAAAiB,GAAA,cAAAjB,EAAAyB,OAAAC,KAAAvB,EAAA,aAAmFe,IAAIS,MAAA3B,EAAA8B,UAAoB9B,EAAAiB,GAAA,UAAAjB,EAAA6B,MAAA,YAEn6CE,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAlD,EACAc,GATA,EAVA,SAAAqC,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/2.4b100def26ad4a0571fc.js","sourcesContent":["<template>\r\n  <div class=\"box\">\r\n      <el-form ref=\"form\" :model=\"formData\" label-width=\"80px\">\r\n            <el-form-item label=\"委\">\r\n                <el-input v-model=\"formData.from\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"受\">\r\n                <el-input v-model=\"formData.to\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"内容\">\r\n                <Editor v-model=\"formData.content\" @getTxt=\"getTxt\"></Editor>  \r\n            </el-form-item>\r\n            <el-form-item label=\"图片(四张)\">\r\n                <el-upload\r\n                    action=\"https://upload-z1.qiniup.com\"\r\n                    list-type=\"picture-card\"\r\n                    :on-success=\"success\"\r\n                    :data=\"{token:token}\"\r\n                    >\r\n                    <i class=\"el-icon-plus\"></i>\r\n                </el-upload>\r\n            </el-form-item>\r\n            <el-form-item label=\"开启时间\">\r\n                <el-input v-model=\"formData.time\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-button v-if=\"$route.name == '大声说添加'\" @click=\"upload\">提交</el-button>\r\n                <el-button v-if=\"$route.name == '大声说修改'\" @click=\"update\">保存修改</el-button>\r\n            </el-form-item>\r\n      </el-form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Editor from \"@/view/admin/components/editor\"\r\nexport default {\r\n    data() {\r\n        return {\r\n            formData:{\r\n                to:\"\",\r\n                from:\"\",\r\n                content:\"\",\r\n                contentTxt:\"\",\r\n                imgs:[],\r\n                time:\"\",\r\n                id:\"\"\r\n            },\r\n            token:\"\"\r\n        }\r\n    },\r\n    components:{\r\n        Editor\r\n    },\r\n    methods:{\r\n        getTxt(val) {\r\n            this.formData.contentTxt = val\r\n        },\r\n        getToken() {\r\n            this.$axios.get('qiniu').then(res => {\r\n                this.token = res.data\r\n            })\r\n        },\r\n        success(res) {\r\n            // console.log(val)\r\n            var url = \"http://image.yaojunrong.com/\" + res.key;\r\n            this.formData.imgs.push(url)\r\n        },\r\n        upload() {\r\n            this.$axios.post('sayAdd',this.formData).then(res => {\r\n                if (res.ret) {\r\n                    this.$message({\r\n                        message: '恭喜你，添加成功!',\r\n                        type: 'success'\r\n                    });\r\n                    setTimeout(() => {\r\n                        this.$router.push('/admin/say/list')\r\n                    },1000)\r\n                }else{\r\n                    this.$message.error('添加出错！！！');\r\n                }\r\n            })\r\n        },\r\n        update() {\r\n            this.formData.id = this.$route.query.id;\r\n            this.$axios.post(\"sayUpdate\",this.formData).then(res => {\r\n                if (res.ret) {\r\n                    this.$message({\r\n                        message: '恭喜你，修改成功!',\r\n                        type: 'success'\r\n                    });\r\n                    setTimeout(() => {\r\n                        this.$router.push('/admin/say/list')\r\n                    },1000)\r\n                }else{\r\n                    this.$message.error('修改出错！！！');\r\n                }\r\n            })\r\n        },\r\n        getOneData() {\r\n            this.$axios.get('sayGet',{id:this.$route.query.id}).then(res => {\r\n                res.data[0].imgs = [];\r\n                this.formData = res.data[0]\r\n            })\r\n        }\r\n    },\r\n    created() {\r\n        this.getToken()\r\n        if(this.$route.name == \"大声说修改\") {\r\n            this.getOneData()\r\n        }\r\n    },\r\n    watch:{\r\n        $route(to,from,next) {\r\n            if(to.name == \"大声说添加\") {\r\n                this.formData = {\r\n                    to:\"\",\r\n                    from:\"\",\r\n                    content:\"\",\r\n                    contentTxt:\"\",\r\n                    imgs:[],\r\n                    time:\"\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.box{\r\n    padding: 90px 20px 20px 250px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/admin/say_add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.formData,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"委\"}},[_c('el-input',{model:{value:(_vm.formData.from),callback:function ($$v) {_vm.$set(_vm.formData, \"from\", $$v)},expression:\"formData.from\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"受\"}},[_c('el-input',{model:{value:(_vm.formData.to),callback:function ($$v) {_vm.$set(_vm.formData, \"to\", $$v)},expression:\"formData.to\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"内容\"}},[_c('Editor',{on:{\"getTxt\":_vm.getTxt},model:{value:(_vm.formData.content),callback:function ($$v) {_vm.$set(_vm.formData, \"content\", $$v)},expression:\"formData.content\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"图片(四张)\"}},[_c('el-upload',{attrs:{\"action\":\"https://upload-z1.qiniup.com\",\"list-type\":\"picture-card\",\"on-success\":_vm.success,\"data\":{token:_vm.token}}},[_c('i',{staticClass:\"el-icon-plus\"})])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"开启时间\"}},[_c('el-input',{model:{value:(_vm.formData.time),callback:function ($$v) {_vm.$set(_vm.formData, \"time\", $$v)},expression:\"formData.time\"}})],1),_vm._v(\" \"),_c('el-form-item',[(_vm.$route.name == '大声说添加')?_c('el-button',{on:{\"click\":_vm.upload}},[_vm._v(\"提交\")]):_vm._e(),_vm._v(\" \"),(_vm.$route.name == '大声说修改')?_c('el-button',{on:{\"click\":_vm.update}},[_vm._v(\"保存修改\")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-aee77b6c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/admin/say_add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-aee77b6c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./say_add.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./say_add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./say_add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-aee77b6c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./say_add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-aee77b6c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/admin/say_add.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
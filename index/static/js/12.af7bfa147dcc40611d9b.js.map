{"version":3,"sources":["webpack:///src/view/admin/jobs_list.vue","webpack:///./src/view/admin/jobs_list.vue?930e","webpack:///./src/view/admin/jobs_list.vue"],"names":["jobs_list","_this","this","createTime","data","str","getFullYear","getDate","getHours","hour","getMinutes","pn","getData","_this2","then","id","title","img","_this3","admin_jobs_list","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","width","attrs","tableData","border","prop","label","_v","scopedSlots","_u","key","fn","scope","max-height","src","row","alt","size","on","click","$event","edit","_id","type","del","swiper","visible","dialogFormVisible","update:visible","model","formData","label-width","formLabelWidth","auto-complete","value","callback","$$v","$set","expression","placeholder","slot","addSwiper","background","layout","total","current-change","getPageData","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.af7bfa147dcc40611d9b.js","sourcesContent":["<template>\r\n  <div class=\"box\">\r\n    <el-table :data=\"tableData\"  border style=\"width: 100%\">\r\n      <el-table-column prop=\"title\" label=\"招就标题\">\r\n        <!-- <template slot-scope=\"scope\"></template> -->\r\n      </el-table-column>\r\n      <el-table-column label=\"招就头图\" width=\"250\">\r\n        <template slot-scope=\"scope\">\r\n          <img :src=\"scope.row.img\" alt=\"\" style=\"max-height:100px;\">\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"createTime\" label=\"创建时间\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"from\" label=\"招就来源\">\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" width=\"280\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"mini\" @click=\"edit(scope.row._id)\">编辑</el-button>\r\n          <el-button size=\"mini\" type=\"danger\" @click=\"del(scope.row._id)\">删除</el-button>\r\n          <el-button size=\"mini\" type=\"info\" @click=\"swiper(scope.row._id,scope.row.title,scope.row.img)\">生成轮播图</el-button> \r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-dialog title=\"生成轮播图\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form :model=\"formData\">\r\n        <el-form-item label=\"标题\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"formData.title\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"排序\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"formData.sort\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"路径\" :label-width=\"formLabelWidth\">\r\n          <el-input v-model=\"formData.path\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"type\" :label-width=\"formLabelWidth\">\r\n          <el-select v-model=\"formData.type\" placeholder=\"请选择轮播图分类\">\r\n            <el-option label=\"首页\" value=\"1\"></el-option>\r\n            <el-option label=\"招就页\" value=\"3\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addSwiper\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <div class=\"page\">\r\n        <el-pagination background layout=\"prev, pager, next\" :total=\"50\" @current-change=\"getPageData\">\r\n        </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport uploadImg from \"@/view/admin/components/uploadImg\"\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableData:[],\r\n      formData: {\r\n          title: '',\r\n          img:'',\r\n          type:null,\r\n          sort:0,\r\n          path:'',\r\n          from:'招就类'\r\n        },\r\n        dialogFormVisible: false,\r\n        formLabelWidth: '120px'\r\n    }\r\n  },\r\n  methods:{\r\n    getData() {\r\n      this.$axios.get('getJobs',{pn:this.$route.query.pn}).then(res => {\r\n        for(var i=0;i<res.data.length;i++) {\r\n                res.data[i].createTime = this.timeTrans(res.data[i].createTime)\r\n            }\r\n        this.tableData = res.data;\r\n        // console.log(res.data)\r\n      })\r\n    },\r\n    timeTrans(UTCDateString) {\r\n          if(!UTCDateString){\r\n            return '-';\r\n          }\r\n          function formatFunc(str) {    //格式化显示\r\n            return str > 9 ? str : '0' + str\r\n          }\r\n            var date2 = new Date(UTCDateString);     //这步是关键\r\n            var year = date2.getFullYear();\r\n            var mon = formatFunc(date2.getMonth() + 1);\r\n            var day = formatFunc(date2.getDate());\r\n            var hour = date2.getHours();\r\n            var noon = hour >= 12 ? 'PM' : 'AM';\r\n            hour = hour>=12?hour-12:hour;\r\n            hour = formatFunc(hour);\r\n            var min = formatFunc(date2.getMinutes());\r\n            var dateStr = year+'-'+mon+'-'+day+' '+noon +' '+hour+':'+min;\r\n            return dateStr;\r\n    },\r\n    getPageData(pn){\r\n        //   console.log(pn)\r\n        this.$router.push({path:\"/admin/jobs/list\",query:{pn}})\r\n        this.getData()\r\n    },\r\n    del(id){\r\n      this.$confirm('是否删除这条讯息?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$axios.post('delJobs',{id}).then(res => {\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功!'\r\n            });\r\n            setTimeout(() => {\r\n              this.$router.go(0)\r\n            },1000)\r\n          })\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          });          \r\n        });\r\n    },\r\n    edit(id) {\r\n      this.$router.push({path:\"/admin/jobs/update\",query:{id}})\r\n    },\r\n    swiper(id,title,img) {\r\n      this.dialogFormVisible = true;\r\n      this.formData.title = title;\r\n      this.formData.path = \"/jobs/detail?id=\" + id;\r\n      this.formData.img = img;\r\n    },\r\n    addSwiper() {\r\n      this.dialogFormVisible = false;\r\n      this.$axios.post('addSwiper',this.formData).then(res => {\r\n        // console.log(res)\r\n        this.$message({\r\n          type: 'success',\r\n          message: '添加成功!'\r\n        });\r\n        setTimeout(() => {\r\n          if(this.formData.type == 1){\r\n            this.$router.push('/admin/swiper/home?type=1')\r\n          }else{\r\n            this.$router.push('/admin/swiper/jobs?type=3')            \r\n          }\r\n        },1000)\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.getData()\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.box{\r\n    padding: 90px 10px 80px 250px;\r\n}\r\n.page{\r\n    position:fixed;\r\n    bottom: 20px;\r\n    left:0;\r\n    right:0;\r\n    text-align: center;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/admin/jobs_list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"招就标题\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"招就头图\",\"width\":\"250\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{staticStyle:{\"max-height\":\"100px\"},attrs:{\"src\":scope.row.img,\"alt\":\"\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"创建时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"from\",\"label\":\"招就来源\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"280\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.edit(scope.row._id)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.del(scope.row._id)}}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"info\"},on:{\"click\":function($event){_vm.swiper(scope.row._id,scope.row.title,scope.row.img)}}},[_vm._v(\"生成轮播图\")])]}}])})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"生成轮播图\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.formData}},[_c('el-form-item',{attrs:{\"label\":\"标题\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.formData.title),callback:function ($$v) {_vm.$set(_vm.formData, \"title\", $$v)},expression:\"formData.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"排序\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.formData.sort),callback:function ($$v) {_vm.$set(_vm.formData, \"sort\", $$v)},expression:\"formData.sort\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"路径\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.formData.path),callback:function ($$v) {_vm.$set(_vm.formData, \"path\", $$v)},expression:\"formData.path\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"type\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"placeholder\":\"请选择轮播图分类\"},model:{value:(_vm.formData.type),callback:function ($$v) {_vm.$set(_vm.formData, \"type\", $$v)},expression:\"formData.type\"}},[_c('el-option',{attrs:{\"label\":\"首页\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"招就页\",\"value\":\"3\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addSwiper}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"page\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":50},on:{\"current-change\":_vm.getPageData}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7b297817\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/admin/jobs_list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b297817\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./jobs_list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./jobs_list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./jobs_list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b297817\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./jobs_list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7b297817\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/admin/jobs_list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}